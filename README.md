<!-- 本文件由 ./readme.make.md 自动生成，请不要直接修改此文件 -->

# 人民网络

有两个seed

1 . 身份标识的seed
2 . 相互通讯用的seed

因为多个客户端可以登录同一个账户，所以需要两个seed来区分不同的客户端

身份标识的客户的客户端同时可以用来做IP寻址

相互通讯用的seed = hash(
  请求的IP
  请求的端口
  身份标识的seed  
)
对方用 hash(IP+端口+seed) 作为新的seed与其相互通讯

客户端 1. 发送连接请求，请求包含如下：
  
  * 自己的身份公钥
  * 用身份公钥对时间签名
  * 时间
  * 时间谜题的答案 数0

服务器 1. 检查时间

  a. 如果时间超时，对方返回自己服务器的时间
  b. 如果时间不超过6秒，响应一个谜题，内容为
    * 服务器时间
    * hash(身份私钥的HASH,自己的时间)[:16]

  第a，b步都附加上一步的时间+签名 （防止第三方伪造这步请求）

客户端 1. 收到响应
  
  1. 如果是时间错误，检查签名和时间，成功后用服务器时间跳转步骤1
  2. 如果是谜题，用计算答案，然后重新请求服务器



## 关于

本项目隶属于**人民网络([rmw.link](//rmw.link))** 代码计划。

![人民网络](https://raw.githubusercontent.com/rmw-link/logo/master/rmw.red.bg.svg)
